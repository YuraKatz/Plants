<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ–¥–∫–æ—Ä–º–∫–∞–º - Plants Care</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f0f2f5;
            color: #1a202c;
            line-height: 1.5;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #edf2f7;
        }
        h1 { font-size: 2.5rem; color: #2d3748; margin-bottom: 10px; }
        h2 { font-size: 1.5rem; color: #2d3748; margin: 30px 0 20px; }

        .nav-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .nav-back {
            display: inline-block;
            text-decoration: none;
            color: #4a5568;
            font-weight: 600;
            transition: color 0.2s;
        }
        .nav-back:hover { color: #2d3748; }

        .nav-mixer {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }
        .nav-mixer:hover {
            background: linear-gradient(135deg, #38a169, #2f855a);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.4);
        }

        .season-indicator {
            display: inline-block;
            padding: 10px 25px;
            border-radius: 30px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 1.2rem;
            margin-top: 10px;
        }
        .season-growth { background: #c6f6d5; color: #22543d; border: 2px solid #38a169; }
        .season-slow { background: #feebc8; color: #744210; border: 2px solid #dd6b20; }

        /* Legend */
        .legend {
            background: #f7fafc;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
        }
        .legend h3 {
            margin-bottom: 15px;
            color: #2d3748;
        }
        .legend-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        .dose-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 50px;
            padding: 4px 10px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 0.85rem;
        }
        .dose-full { background: #c6f6d5; color: #22543d; }
        .dose-half { background: #fef3c7; color: #92400e; }
        .dose-quarter { background: #fed7aa; color: #9a3412; }
        .dose-eighth { background: #fecaca; color: #991b1b; }
        .dose-forbidden { background: #fee2e2; color: #991b1b; }
        .dose-top { background: #e0e7ff; color: #3730a3; }

        /* Matrix Table */
        .matrix-container {
            overflow-x: auto;
            margin-bottom: 40px;
        }
        .matrix-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        .matrix-table th {
            background: #2d3748;
            color: white;
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            position: sticky;
            top: 0;
        }
        .matrix-table th:first-child {
            text-align: left;
            min-width: 200px;
        }
        .matrix-table td {
            padding: 10px 8px;
            text-align: center;
            border-bottom: 1px solid #e2e8f0;
        }
        .matrix-table td:first-child {
            text-align: left;
            font-weight: 500;
        }
        .matrix-table tr:hover {
            background: #f7fafc;
        }
        .matrix-table .plant-cell {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .matrix-table .plant-thumb {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            object-fit: cover;
        }
        .matrix-table .plant-info {
            display: flex;
            flex-direction: column;
        }
        .matrix-table .plant-name {
            font-weight: 600;
            color: #2d3748;
        }
        .matrix-table .plant-latin {
            font-size: 0.75rem;
            color: #718096;
            font-style: italic;
        }

        /* Water rules */
        .water-rules {
            margin-top: 40px;
            padding: 25px;
            background: #ebf8ff;
            border-radius: 15px;
            border-left: 6px solid #3182ce;
        }
        .water-rules h2 { color: #2c5282; margin: 0 0 15px 0; }
        .water-rules ul { list-style: none; }
        .water-rules li { margin-bottom: 10px; font-size: 1rem; }
        .water-rules li b { color: #2c5282; }

        /* Fertilizer info */
        .fertilizer-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .fertilizer-card {
            background: #f7fafc;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #48bb78;
        }
        .fertilizer-card h4 {
            color: #2d3748;
            margin-bottom: 10px;
        }
        .fertilizer-card p {
            font-size: 0.9rem;
            color: #4a5568;
        }

        @media (max-width: 768px) {
            .container { padding: 20px; }
            h1 { font-size: 1.8rem; }
            .legend-grid { flex-direction: column; }
            .matrix-table { font-size: 0.8rem; }
            .matrix-table .plant-thumb { width: 30px; height: 30px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-row">
            <a href="index.html" class="nav-back">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
            <a href="water-mixer.html" class="nav-mixer">üß™ –ú–∏–∫—Å–µ—Ä –∫–∞–Ω–∏—Å—Ç—Ä</a>
        </div>
        <header>
            <h1>–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ–¥–∫–æ—Ä–º–∫–∞–º</h1>
            <div id="seasonIndicator" class="season-indicator">–†–µ–∂–∏–º: –ó–ê–ì–†–£–ó–ö–ê...</div>
        </header>

        <!-- Legend -->
        <div class="legend">
            <h3>–û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–∑–∏—Ä–æ–≤–æ–∫</h3>
            <div class="legend-grid">
                <div class="legend-item">
                    <span class="dose-badge dose-full">100%</span>
                    <span>–ü–æ–ª–Ω–∞—è –¥–æ–∑–∞</span>
                </div>
                <div class="legend-item">
                    <span class="dose-badge dose-half">1/2</span>
                    <span>–ü–æ–ª–æ–≤–∏–Ω–∞ –¥–æ–∑—ã</span>
                </div>
                <div class="legend-item">
                    <span class="dose-badge dose-quarter">1/4</span>
                    <span>–ß–µ—Ç–≤–µ—Ä—Ç—å –¥–æ–∑—ã</span>
                </div>
                <div class="legend-item">
                    <span class="dose-badge dose-eighth">1/8</span>
                    <span>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–æ–∑–∞</span>
                </div>
                <div class="legend-item">
                    <span class="dose-badge dose-top">top</span>
                    <span>–¢–æ–ª—å–∫–æ —Å–≤–µ—Ä—Ö—É</span>
                </div>
                <div class="legend-item">
                    <span class="dose-badge dose-forbidden">‚Äî</span>
                    <span>–ó–∞–ø—Ä–µ—â–µ–Ω–æ</span>
                </div>
            </div>
            <div style="margin-top: 15px; padding: 12px; background: #ebf8ff; border-radius: 8px; text-align: center;">
                <a href="water-mixer.html" style="color: #2b6cb0; text-decoration: none; font-weight: 500;">
                    üíß –¢–æ—á–Ω—ã–µ –¥–æ–∑–∏—Ä–æ–≤–∫–∏ –≤ –º–ª/–ª ‚Üí –ú–∏–∫—Å–µ—Ä –≤–æ–¥—ã
                </a>
            </div>
        </div>

        <!-- Matrix Table -->
        <h2>–¢–∞–±–ª–∏—Ü–∞ –ø–æ–¥–∫–æ—Ä–º–æ–∫</h2>
        <div class="matrix-container">
            <table class="matrix-table" id="matrixTable">
                <thead>
                    <tr>
                        <th>–†–∞—Å—Ç–µ–Ω–∏–µ</th>
                        <th>Universal</th>
                        <th>Flowering</th>
                        <th>Multicote</th>
                    </tr>
                </thead>
                <tbody id="matrixBody">
                </tbody>
            </table>
        </div>

        <!-- Fertilizer Info -->
        <h2>–£–¥–æ–±—Ä–µ–Ω–∏—è</h2>
        <div class="fertilizer-info">
            <div class="fertilizer-card">
                <h4>Flower Universal</h4>
                <p>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –∂–∏–¥–∫–æ–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ NPK 5-5-7. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π –≤ –ø–µ—Ä–∏–æ–¥ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞.</p>
            </div>
            <div class="fertilizer-card">
                <h4>Flower Flowering</h4>
                <p>–£–¥–æ–±—Ä–µ–Ω–∏–µ –¥–ª—è —Ü–≤–µ—Ç—É—â–∏—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º —Ñ–æ—Å—Ñ–æ—Ä–∞ –∏ –∫–∞–ª–∏—è. –°—Ç–∏–º—É–ª–∏—Ä—É–µ—Ç —Ü–≤–µ—Ç–µ–Ω–∏–µ.</p>
            </div>
            <div class="fertilizer-card" style="border-left-color: #805ad5;">
                <h4>Ecogan Multicote</h4>
                <p>–ì—Ä–∞–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ –ø—Ä–æ–ª–æ–Ω–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è. –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ —Ñ–∏—Ç–∏–ª—å–Ω–æ–º –ø–æ–ª–∏–≤–µ!</p>
            </div>
        </div>

        <!-- Water Rules -->
        <div class="water-rules">
            <h2>–ü—Ä–∞–≤–∏–ª–∞ –ø–æ–ª–∏–≤–∞ (–≤—Å–µ–≥–¥–∞)</h2>
            <ul>
                <li><b>Cal-Mag:</b> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Å RO (–æ—Å–º–æ—Å) –≤–æ–¥–æ–π –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥–µ—Ñ–∏—Ü–∏—Ç–∞ –º–∏–Ω–µ—Ä–∞–ª–æ–≤.</li>
                <li><b>pH Down:</b> –†–µ–≥—É–ª–∏—Ä—É–π—Ç–µ pH —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ—Ä–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ 5.8-6.2.</li>
                <li><b>–•–∏—â–Ω–∏–∫–∏:</b> –¢–û–õ–¨–ö–û —á–∏—Å—Ç—ã–π RO (TDS < 10), –Ω–∏–∫–∞–∫–∏—Ö –¥–æ–±–∞–≤–æ–∫ –∏ —É–¥–æ–±—Ä–µ–Ω–∏–π.</li>
                <li><b>Multicote:</b> –ó–∞–ø—Ä–µ—â—ë–Ω –¥–ª—è —Ä–∞—Å—Ç–µ–Ω–∏–π –Ω–∞ —Ñ–∏—Ç–∏–ª—å–Ω–æ–º –ø–æ–ª–∏–≤–µ ‚Äî –≤—ã–º—ã–≤–∞–µ—Ç—Å—è –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –æ–∂–æ–≥ –∫–æ—Ä–Ω–µ–π.</li>
            </ul>
        </div>
    </div>

    <script>
        const plantsData = {
            settings: { current_season: "growth" },
            feeding_matrix: {
                aroids: {
                    growth: { flower_universal: "allowed", flower_flowering: "allowed", ecogan_multicote: "allowed", atami_calmag: "allowed" },
                    slow: { flower_universal: "1/2", flower_flowering: "forbidden", ecogan_multicote: "forbidden", atami_calmag: "allowed" }
                },
                sensitive: {
                    growth: { flower_universal: "1/4", flower_flowering: "forbidden", ecogan_multicote: "top", atami_calmag: "allowed" },
                    slow: { flower_universal: "forbidden", flower_flowering: "forbidden", ecogan_multicote: "forbidden", atami_calmag: "allowed" }
                },
                orchids: {
                    growth: { flower_universal: "1/8", flower_flowering: "1/8", ecogan_multicote: "forbidden", atami_calmag: "1/4" },
                    slow: { flower_universal: "forbidden", flower_flowering: "forbidden", ecogan_multicote: "forbidden", atami_calmag: "allowed" }
                },
                carnivorous: {
                    growth: { flower_universal: "forbidden", flower_flowering: "forbidden", ecogan_multicote: "forbidden", atami_calmag: "forbidden" },
                    slow: { flower_universal: "forbidden", flower_flowering: "forbidden", ecogan_multicote: "forbidden", atami_calmag: "forbidden" }
                },
                general_houseplants: {
                    growth: { flower_universal: "allowed", flower_flowering: "allowed", ecogan_multicote: "allowed", atami_calmag: "allowed" },
                    slow: { flower_universal: "1/2", flower_flowering: "forbidden", ecogan_multicote: "forbidden", atami_calmag: "allowed" }
                }
            },
            plants: {
                monstera_deliciosa: { name: "–ú–æ–Ω—Å—Ç–µ—Ä–∞ –¥–µ–ª–∏—Ü–∏–æ–∑–∞", latin: "Monstera deliciosa", group: "aroids", wick: true },
                monstera_adansonii: { name: "–ú–æ–Ω—Å—Ç–µ—Ä–∞ –∞–¥–∞–Ω—Å–æ–Ω–∏", latin: "Monstera adansonii", group: "aroids", wick: true },
                philodendron: { name: "–§–∏–ª–æ–¥–µ–Ω–¥—Ä–æ–Ω", latin: "Philodendron", group: "aroids", wick: true },
                epipremnum: { name: "–≠–ø–∏–ø—Ä–µ–º–Ω—É–º", latin: "Epipremnum aureum", group: "aroids", wick: true },
                aglaonema: { name: "–ê–≥–ª–∞–æ–Ω–µ–º–∞", latin: "Aglaonema", group: "aroids", wick: true },
                spathiphyllum: { name: "–°–ø–∞—Ç–∏—Ñ–∏–ª–ª—É–º", latin: "Spathiphyllum", group: "aroids", wick: true },
                calathea_lancifolia: { name: "–ö–∞–ª–∞—Ç–µ—è –ª–∞–Ω—Å–∏—Ñ–æ–ª–∏—è", latin: "Calathea lancifolia", group: "sensitive", wick: true },
                calathea_ornata: { name: "–ö–∞–ª–∞—Ç–µ—è –æ—Ä–Ω–∞—Ç–∞", latin: "Calathea ornata", group: "sensitive", wick: true },
                alocasia_amazonica: { name: "–ê–ª–æ–∫–∞–∑–∏—è", latin: "Alocasia amazonica", group: "sensitive", wick: true },
                anthurium_andraeanum: { name: "–ê–Ω—Ç—É—Ä–∏—É–º", latin: "Anthurium andraeanum", group: "sensitive", wick: true },
                guzmania: { name: "–ì—É–∑–º–∞–Ω–∏—è", latin: "Guzmania", group: "sensitive", wick: false },
                nephrolepis: { name: "–ü–∞–ø–æ—Ä–æ—Ç–Ω–∏–∫", latin: "Nephrolepis exaltata", group: "sensitive", wick: false },
                phalaenopsis: { name: "–û—Ä—Ö–∏–¥–µ—è", latin: "Phalaenopsis", group: "orchids", wick: false },
                dracaena_marginata: { name: "–î—Ä–∞—Ü–µ–Ω–∞ –º–∞—Ä–≥–∏–Ω–∞—Ç–∞", latin: "Dracaena marginata", group: "general_houseplants", wick: false },
                dracaena_fragrans: { name: "–î—Ä–∞—Ü–µ–Ω–∞ —Ñ—Ä–∞–≥—Ä–∞–Ω—Å", latin: "Dracaena fragrans", group: "general_houseplants", wick: false },
                croton: { name: "–ö—Ä–æ—Ç–æ–Ω", latin: "Codiaeum variegatum", group: "general_houseplants", wick: true },
                begonia_maculata: { name: "–ë–µ–≥–æ–Ω–∏—è –º–∞–∫—É–ª–∞—Ç–∞", latin: "Begonia maculata", group: "general_houseplants", wick: true },
                chamaedorea: { name: "–•–∞–º–µ–¥–æ—Ä–µ—è", latin: "Chamaedorea", group: "general_houseplants", wick: false },
                chlorophytum_comosum: { name: "–•–ª–æ—Ä–æ—Ñ–∏—Ç—É–º", latin: "Chlorophytum comosum", group: "general_houseplants", wick: true },
                sansevieria: { name: "–°–∞–Ω—Å–µ–≤–∏–µ—Ä–∏—è", latin: "Sansevieria trifasciata", group: "general_houseplants", wick: false },
                dionaea: { name: "–î–∏–æ–Ω–µ—è", latin: "Dionaea muscipula", group: "carnivorous", wick: false }
            }
        };

        const imageMap = {
            "aglaonema": "IMAGES/–ê–≥–ª–∞–æ–Ω–µ–º–∞.jpeg",
            "alocasia_amazonica": "IMAGES/–ê–ª–æ–∫–∞–∑–∏—è.jpg",
            "anthurium_andraeanum": "IMAGES/–ê–Ω—Ç—É—Ä–∏—É–º.jpg",
            "begonia_maculata": "IMAGES/–ë–µ–≥–æ–Ω–∏—è –º–∞–∫—É–ª–∞—Ç–∞.jpg",
            "guzmania": "IMAGES/–ì—É–∑–º–∞–Ω–∏—è.jpg",
            "dracaena_marginata": "IMAGES/–î—Ä–∞—Ü–µ–Ω–∞ –º–∞—Ä–≥–∏–Ω–∞—Ç–∞.jpg",
            "dracaena_fragrans": "IMAGES/–î—Ä–∞—Ü–µ–Ω–∞ —Ñ—Ä–∞–≥—Ä–∞–Ω—Å.jpg",
            "calathea_lancifolia": "IMAGES/–ö–∞–ª–∞—Ç–µ—è –ª–∞–Ω—Å–∏—Ñ–æ–ª–∏—è.jpg",
            "calathea_ornata": "IMAGES/–∞–ª–∞—Ç–µ—è –æ—Ä–Ω–∞—Ç–∞.jpg",
            "croton": "IMAGES/–ö—Ä–æ—Ç–æ–Ω.jpg",
            "monstera_adansonii": "IMAGES/–ú–æ–Ω—Å—Ç–µ—Ä–∞ –∞–¥–∞–Ω—Å–æ–Ω–∏.jpeg",
            "monstera_deliciosa": "IMAGES/–ú–æ–Ω—Å—Ç–µ—Ä–∞ –¥–µ–ª–∏—Ü–∏–æ–∑–∞.jpg",
            "phalaenopsis": "IMAGES/–û—Ä—Ö–∏–¥–µ—è.jpg",
            "spathiphyllum": "IMAGES/–°–ø–∞—Ç–∏—Ñ–∏–ª–ª—É–º.jpg",
            "chamaedorea": "IMAGES/–•–∞–º–µ–¥–æ—Ä–µ—è.jpg",
            "chlorophytum_comosum": "IMAGES/–•–ª–æ—Ä–æ—Ñ–∏—Ç—É–º.jpg",
            "epipremnum": "IMAGES/–ø–∏–ø—Ä–µ–º–Ω—É–º.jpg",
            "philodendron": "IMAGES/—Ñ–∏–ª–æ–¥–µ–Ω–¥—Ä–æ–Ω imperial.jpg",
            "dionaea": "IMAGES/–î–∏–æ–Ω–µ—è.jpg",
            "nephrolepis": "IMAGES/–ü–∞–ø–æ—Ä–æ—Ç–Ω–∏–∫–ù–µ—Ñ—Ä–æ–ª–µ–ø–∏—Å.jpeg",
            "sansevieria": "IMAGES/–°–∞–Ω—Å–µ–≤–∏–µ—Ä–∏—è.jpg"
        };

        // Season indicator
        const season = plantsData.settings.current_season;
        const indicator = document.getElementById('seasonIndicator');
        if (season === 'growth') {
            indicator.textContent = '–†–µ–∂–∏–º: –†–û–°–¢ (–í–µ—Å–Ω–∞/–õ–µ—Ç–æ)';
            indicator.className = 'season-indicator season-growth';
        } else {
            indicator.textContent = '–†–µ–∂–∏–º: –ü–û–ö–û–ô (–û—Å–µ–Ω—å/–ó–∏–º–∞)';
            indicator.className = 'season-indicator season-slow';
        }

        // Build matrix table
        function getDoseBadge(status, isWick, fertType) {
            // Multicote forbidden for wick watering plants
            if (fertType === 'ecogan_multicote' && isWick) {
                return '<span class="dose-badge dose-forbidden" title="–ó–∞–ø—Ä–µ—â–µ–Ω–æ –Ω–∞ —Ñ–∏—Ç–∏–ª–µ">‚Äî</span>';
            }

            if (status === 'forbidden') {
                return '<span class="dose-badge dose-forbidden">‚Äî</span>';
            } else if (status === 'allowed') {
                return '<span class="dose-badge dose-full">100%</span>';
            } else if (status === '1/2') {
                return '<span class="dose-badge dose-half">1/2</span>';
            } else if (status === '1/4') {
                return '<span class="dose-badge dose-quarter">1/4</span>';
            } else if (status === '1/8') {
                return '<span class="dose-badge dose-eighth">1/8</span>';
            } else if (status === 'top') {
                return '<span class="dose-badge dose-top">top</span>';
            }
            return '<span class="dose-badge dose-full">100%</span>';
        }

        const tbody = document.getElementById('matrixBody');

        // Sort plants by group for better organization
        const groupOrder = ['aroids', 'sensitive', 'orchids', 'general_houseplants', 'carnivorous'];
        const sortedPlants = Object.entries(plantsData.plants).sort((a, b) => {
            return groupOrder.indexOf(a[1].group) - groupOrder.indexOf(b[1].group);
        });

        let currentGroup = '';
        sortedPlants.forEach(([id, plant]) => {
            const matrix = plantsData.feeding_matrix[plant.group][season];
            const img = imageMap[id] || '';

            // Add group separator
            if (plant.group !== currentGroup) {
                currentGroup = plant.group;
                const groupNames = {
                    aroids: '–ê—Ä–æ–∏–¥–Ω—ã–µ',
                    sensitive: '–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ',
                    orchids: '–û—Ä—Ö–∏–¥–µ–∏',
                    general_houseplants: '–û–±—â–∏–µ –∫–æ–º–Ω–∞—Ç–Ω—ã–µ',
                    carnivorous: '–•–∏—â–Ω—ã–µ'
                };
                const groupRow = document.createElement('tr');
                groupRow.innerHTML = `<td colspan="4" style="background: #edf2f7; font-weight: 700; color: #4a5568; padding: 8px 12px;">${groupNames[currentGroup]}</td>`;
                tbody.appendChild(groupRow);
            }

            const row = document.createElement('tr');
            row.innerHTML = `
                <td>
                    <div class="plant-cell">
                        <img src="${img}" class="plant-thumb" alt="${plant.name}" onerror="this.style.display='none'">
                        <div class="plant-info">
                            <span class="plant-name">${plant.name}</span>
                            <span class="plant-latin">${plant.latin}</span>
                        </div>
                    </div>
                </td>
                <td>${getDoseBadge(matrix.flower_universal, plant.wick, 'flower_universal')}</td>
                <td>${getDoseBadge(matrix.flower_flowering, plant.wick, 'flower_flowering')}</td>
                <td>${getDoseBadge(matrix.ecogan_multicote, plant.wick, 'ecogan_multicote')}</td>
            `;
            tbody.appendChild(row);
        });
    </script>
</body>
</html>
